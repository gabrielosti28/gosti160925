<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<configSections>
		<section name="entityFramework"
				 type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
				 requirePermission="false" />
	</configSections>

	<connectionStrings>
		<!-- ✅ CONEXÃO PRINCIPAL - NOME CORRETO PARA Entity Framework -->
		<add name="ApplicationDbContext"
			 connectionString="Data Source=.;Initial Catalog=CJ3027333PR2;Integrated Security=True;TrustServerCertificate=True;Connect Timeout=30"
			 providerName="System.Data.SqlClient" />

		<!-- ✅ CONEXÃO ALTERNATIVAS PARA FALLBACK -->
		<add name="CJ3027333PR2"
			 connectionString="Data Source=.;Initial Catalog=CJ3027333PR2;Integrated Security=True;TrustServerCertificate=True;Connect Timeout=30"
			 providerName="System.Data.SqlClient" />

		<add name="DefaultConnection"
			 connectionString="Data Source=.;Initial Catalog=CJ3027333PR2;Integrated Security=True;TrustServerCertificate=True;Connect Timeout=30"
			 providerName="System.Data.SqlClient" />

		<!-- ✅ CONEXÕES PARA DETECÇÃO AUTOMÁTICA -->
		<add name="LocalDB"
			 connectionString="Server=(localdb)\MSSQLLocalDB;Database=CJ3027333PR2;Trusted_Connection=true;TrustServerCertificate=true;"
			 providerName="System.Data.SqlClient" />

		<add name="SQLEXPRESS"
			 connectionString="Server=.\SQLEXPRESS;Database=CJ3027333PR2;Trusted_Connection=true;TrustServerCertificate=true;"
			 providerName="System.Data.SqlClient" />
	</connectionStrings>

	<startup>
		<supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.8" />
	</startup>

	<entityFramework>
		<defaultConnectionFactory type="System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework">
			<parameters>
				<parameter value="mssqllocaldb" />
			</parameters>
		</defaultConnectionFactory>
		<providers>
			<provider invariantName="System.Data.SqlClient"
					  type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
		</providers>
	</entityFramework>

	<system.data>
		<DbProviderFactories>
			<remove invariant="System.Data.SqlClient" />
			<add name="SqlClient Data Provider"
				 invariant="System.Data.SqlClient"
				 description=".NET Framework Data Provider for SQL Server"
				 type="System.Data.SqlClient.SqlClientFactory, System.Data.SqlClient" />
		</DbProviderFactories>
	</system.data>
</configuration>